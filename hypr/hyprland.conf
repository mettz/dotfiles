source = ~/.config/hypr/mocha.conf

# ======================================
# Variables
# ======================================
$mod1 = Super
$mod2 = Alt
$mod3 = Ctrl

$mon1 = desc:BOE 0x095F
$mon2 = desc:Dell Inc. DELL P2422H DZLKYK3
$mon3 = desc:LG Electronics LG FULL HD

$mon1keyword = $mon1,preferred,0x0,1.566667

# ======================================
# Environment variables
# ======================================
env = XCURSOR_SIZE,24
env = EDITOR,code # hopefully one day this will be set to nvim
env = BROWSER,firefox-developer-edition
env = NAME,Mattia Guazzaloca
env = EMAIL,me@mettz.dev
env = TZ,Europe/Rome
env = CARGO_TARGET_DIR,$HOME/.cargo-target

# ======================================
# Monitors
# ======================================
monitor=$mon1keyword
monitor=$mon2,preferred,1128x0,1
monitor=$mon3,preferred,3048x0,1

# ======================================
# Workspace Rules
# ======================================
workspace=1,monitor:$mon1,default:true
workspace=2,monitor:$mon1
workspace=3,monitor:$mon1
workspace=4,monitor:$mon1
workspace=5,monitor:$mon1
workspace=6,monitor:$mon1
workspace=7,monitor:$mon1
workspace=8,monitor:$mon1
workspace=9,monitor:$mon1
workspace=10,monitor:$mon1

workspace=11,monitor:$mon2,default:true
workspace=12,monitor:$mon2
workspace=13,monitor:$mon2
workspace=14,monitor:$mon2
workspace=15,monitor:$mon2
workspace=16,monitor:$mon2
workspace=17,monitor:$mon2
workspace=18,monitor:$mon2
workspace=19,monitor:$mon2
workspace=20,monitor:$mon2

workspace=21,monitor:$mon3,default:true
workspace=22,monitor:$mon3
workspace=23,monitor:$mon3
workspace=24,monitor:$mon3
workspace=25,monitor:$mon3
workspace=26,monitor:$mon3
workspace=27,monitor:$mon3
workspace=28,monitor:$mon3
workspace=29,monitor:$mon3
workspace=30,monitor:$mon3

# ======================================
# Binds
# ======================================
# Switch workspaces with mod1/2/3 + [workspace]
bind = $mod1, 1, workspace, 1
bind = $mod1, 2, workspace, 2
bind = $mod1, 3, workspace, 3
bind = $mod1, 4, workspace, 4
bind = $mod1, 5, workspace, 5
bind = $mod1, 6, workspace, 6
bind = $mod1, 7, workspace, 7
bind = $mod1, 8, workspace, 8
bind = $mod1, 9, workspace, 9
bind = $mod1, 0, workspace, 10

bind = $mod2, 1, workspace, 11
bind = $mod2, 2, workspace, 12
bind = $mod2, 3, workspace, 13
bind = $mod2, 4, workspace, 14
bind = $mod2, 5, workspace, 15
bind = $mod2, 6, workspace, 16
bind = $mod2, 7, workspace, 17
bind = $mod2, 8, workspace, 18
bind = $mod2, 9, workspace, 19
bind = $mod2, 0, workspace, 20

bind = $mod3, 1, workspace, 21
bind = $mod3, 2, workspace, 22
bind = $mod3, 3, workspace, 23
bind = $mod3, 4, workspace, 24
bind = $mod3, 5, workspace, 25
bind = $mod3, 6, workspace, 26
bind = $mod3, 7, workspace, 27
bind = $mod3, 8, workspace, 28
bind = $mod3, 9, workspace, 29
bind = $mod3, 0, workspace, 30

# Move current window to workspace n with mod1/2/3 + sfhit + [workspace]
bind = $mod1_shift, 1, movetoworkspace, 1
bind = $mod1_shift, 2, movetoworkspace, 2
bind = $mod1_shift, 3, movetoworkspace, 3
bind = $mod1_shift, 4, movetoworkspace, 4
bind = $mod1_shift, 5, movetoworkspace, 5
bind = $mod1_shift, 6, movetoworkspace, 6
bind = $mod1_shift, 7, movetoworkspace, 7
bind = $mod1_shift, 8, movetoworkspace, 8
bind = $mod1_shift, 9, movetoworkspace, 9
bind = $mod1_shift, 0, movetoworkspace, 10

bind = $mod2_shift, 1, movetoworkspace, 11
bind = $mod2_shift, 2, movetoworkspace, 12
bind = $mod2_shift, 3, movetoworkspace, 13
bind = $mod2_shift, 4, movetoworkspace, 14
bind = $mod2_shift, 5, movetoworkspace, 15
bind = $mod2_shift, 6, movetoworkspace, 16
bind = $mod2_shift, 7, movetoworkspace, 17
bind = $mod2_shift, 8, movetoworkspace, 18
bind = $mod2_shift, 9, movetoworkspace, 19
bind = $mod2_shift, 0, movetoworkspace, 20

bind = $mod3_shift, 1, movetoworkspace, 21
bind = $mod3_shift, 2, movetoworkspace, 22
bind = $mod3_shift, 3, movetoworkspace, 23
bind = $mod3_shift, 4, movetoworkspace, 24
bind = $mod3_shift, 5, movetoworkspace, 25
bind = $mod3_shift, 6, movetoworkspace, 26
bind = $mod3_shift, 7, movetoworkspace, 27
bind = $mod3_shift, 8, movetoworkspace, 28
bind = $mod3_shift, 9, movetoworkspace, 19
bind = $mod3_shift, 0, movetoworkspace, 20

# Vim mode - move window focus with mod1 + vim keys
bind = $mod1, h, movefocus, l
bind = $mod1, l, movefocus, r
bind = $mod1, k, movefocus, u
bind = $mod1, j, movefocus, d

# Move window to next/prev workspace with mod1 + shift + j/k
bind = $mod1_shift, k, movetoworkspace, r+1
bind = $mod1_shift, j, movetoworkspace, r-1

# Scroll through existing workspaces with super + j/k
bind = $mod1, Tab, workspace, m+1
bind = $mod1_shift, Tab, workspace, m-1

# Windows
bind = $mod1_shift, f, fullscreen, 0
bind = $mod1, m, fullscreen, 1
bind = $mod1, comma, togglesplit, # dwindle
bind = $mod1, space, togglefloating 
bind = $mod1, W, killactive, 

# Apps
bind = $mod1, N, exec, alacritty
bind = $mod1, B, exec, firefox-developer-edition
bind = $mod1_shift, B, exec, ~/.config/waybar/launch.sh
bind = $mod1, return, exec, ~/.config/wofi/launch.sh
bind = , Print, exec, ~/.local/bin/grimblast --notify copy area

# Brightness control
binde = , XF86MonBrightnessUp, exec, brightnessctl set +5%
binde = , XF86MonBrightnessDown, exec, brightnessctl set 5%-

# Sound control
bindel = , XF86AudioRaiseVolume, exec, pamixer -i 5
bindel = , XF86AudioLowerVolume, exec, pamixer -d 5
bindl  = , XF86AudioMute, exec, pamixer --toggle-mute

# Move/resize windows with mod1 + LMB/RMB and dragging
bindm = $mod1, mouse:272, movewindow
bindm = $mod1, mouse:273, resizewindow
bindn = , mouse:274, exec, wl-copy -pc

# Disable/enable laptop monitor on lid closed/opened
bindl=,switch:on:Lid Switch,exec,hyprctl keyword monitor "$mon1, disable"
bindl=,switch:off:Lid Switch,exec,hyprctl keyword monitor "$mon1keyword"

# ======================================
# Execs
# ======================================
exec-once = ~/.config/waybar/launch.sh
exec-once = [workspace 1 silent] firefox-developer-edition
exec-once = [workspace 2 silent] alacritty

# ======================================
# Settings
# ======================================
general {
    gaps_in = 4
    gaps_out = 0,20,20,20
    border_size = 1
    col.active_border = $mauve
    col.inactive_border = $surface0
    
    cursor_inactive_timeout = 3

    layout = dwindle
}

input {
    kb_layout = us
    kb_variant = intl
    kb_model =
    kb_options =
    kb_rules =

    follow_mouse = 1

    touchpad {
        natural_scroll = yes
    }

    sensitivity = -0.1 # -1.0 to 1.0, 0 means no modification.
}

decoration {
    rounding = 4
    
    blur {
        enabled = no
    }

    drop_shadow = no
}

animations {
    enabled = no
}

dwindle {
    pseudotile = yes # master switch for pseudotiling. Enabling is bound to mod1 + P in the keybinds section below
    preserve_split = yes # you probably want this
}

master {
    # See https://wiki.hyprland.org/Configuring/Master-Layout/ for more
    new_is_master = true
}

misc {
    force_default_wallpaper = 2
    disable_splash_rendering = 1
}
